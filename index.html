<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pixel Art Studio - Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">

  
</head>
<body class="h-screen flex flex-col md:flex-row overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-full md:w-72 bg-gray-900 border-r border-gray-800 flex flex-col p-3 shadow-xl z-20 overflow-y-auto h-full md:h-screen shrink-0 text-sm">
        
        <div class="mb-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-blue-500"><i class="fas fa-layer-group mr-2"></i>Pixel Art</h1>
            <div class="text-[10px] text-gray-500">v3.0</div>
        </div>

        <!-- Preview / Navigator -->
        <div class="bg-gray-800 p-2 rounded-lg mb-3 border border-gray-700 relative group">
            <div class="flex justify-between items-center mb-1">
                <span class="text-[10px] uppercase font-bold text-gray-400">Preview</span>
                <span id="fpsDisplay" class="text-[10px] text-blue-400 font-mono">12 FPS</span>
            </div>
            
            <div id="preview-container" class="w-full aspect-square bg-black rounded mb-2 relative overflow-hidden cursor-move border border-gray-700" style="background-image: linear-gradient(45deg, #333 25%, transparent 25%), linear-gradient(-45deg, #333 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #333 75%), linear-gradient(-45deg, transparent 75%, #333 75%); background-size: 10px 10px;">
                <canvas id="previewCanvas" class="w-full h-full object-contain"></canvas>
                <!-- Reference Rectangle for Panning -->
                <div id="minimap-overlay"></div>
            </div>

            <div class="flex gap-1 mb-2">
                <button id="playBtn" class="flex-1 bg-green-600 hover:bg-green-700 text-white py-1 rounded text-xs"><i class="fas fa-play"></i></button>
                <button id="stopBtn" class="flex-1 bg-gray-700 hover:bg-gray-600 text-white py-1 rounded text-xs"><i class="fas fa-stop"></i></button>
            </div>
            <input type="range" id="fpsSlider" min="1" max="60" value="12" class="w-full h-1 bg-gray-600 rounded-lg">
        </div>

        <!-- Layer Manager -->
        <div class="mb-3 flex-1 min-h-[100px] flex flex-col">
            <div class="flex justify-between items-end mb-1">
                <h3 class="text-[10px] font-bold text-gray-400 uppercase">Layers</h3>
                <button id="addLayerBtn" class="text-xs bg-blue-600 px-2 rounded hover:bg-blue-500 text-white"><i class="fas fa-plus"></i></button>
            </div>
            <div id="layers-list" class="flex-1 overflow-y-auto bg-gray-800 p-1 rounded border border-gray-700">
                <!-- Layers injected here -->
            </div>
        </div>

        <!-- Tools -->
        <div class="mb-3">
            <h3 class="text-[10px] font-bold text-gray-400 uppercase mb-2">Tools</h3>
            <div class="grid grid-cols-5 gap-1 mb-2">
                <button class="tool-btn active p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="pencil" data-title="Pencil (1px)">
                    <i class="fas fa-pencil-alt text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="brush" data-title="Brush (Size)">
                    <i class="fas fa-paint-brush text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="dither" data-title="Dither Pattern">
                    <i class="fas fa-border-style text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="eraser" data-title="Eraser">
                    <i class="fas fa-eraser text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="bucket" data-title="Fill">
                    <i class="fas fa-fill-drip text-xs"></i>
                </button>
                
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="stroke" data-title="Line">
                    <i class="fas fa-slash text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="rect" data-title="Rectangle">
                    <i class="far fa-square text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="circle" data-title="Circle">
                    <i class="far fa-circle text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="move" data-title="Move">
                    <i class="fas fa-arrows-alt text-xs"></i>
                </button>
                <button class="tool-btn p-2 rounded bg-gray-800 border border-gray-700 hover:bg-gray-700 tooltip-group" data-tool="eyedropper" data-title="Picker">
                    <i class="fas fa-eye-dropper text-xs"></i>
                </button>
            </div>

            <!-- Color & Brush Settings -->
            <div class="bg-gray-800 p-2 rounded border border-gray-700 flex flex-col gap-2">
                <div class="flex items-center gap-2">
                     <input type="color" id="colorPicker" value="#000000" class="h-6 w-8 bg-transparent border-0 p-0 cursor-pointer">
                     <span id="colorHex" class="text-[10px] font-mono text-gray-400 flex-1">#000000</span>
                     <button id="swapColorsBtn" class="text-gray-400 hover:text-white"><i class="fas fa-exchange-alt"></i></button>
                </div>
                
                <!-- Opacity -->
                <div class="flex items-center gap-2">
                    <span class="text-[10px] text-gray-400 w-10">Alpha</span>
                    <input type="range" id="opacitySlider" min="0" max="1" step="0.01" value="1" class="flex-1 h-1 bg-gray-600 rounded-lg">
                </div>

                <!-- Size -->
                <div class="flex items-center gap-2">
                    <span class="text-[10px] text-gray-400 w-10">Size</span>
                    <input type="range" id="brushSizeSlider" min="1" max="10" value="1" class="flex-1 h-1 bg-gray-600 rounded-lg">
                    <span id="brushSizeDisplay" class="text-[10px] text-blue-400 w-4 text-right">1</span>
                </div>
            </div>
            
            <div id="palette-history" class="flex gap-1 mt-2 flex-wrap"></div>
        </div>

        <!-- Export -->
        <div class="pt-2 border-t border-gray-800 gap-1 flex flex-col">
            <div class="grid grid-cols-2 gap-1 mb-1">
                 <input type="number" id="widthInput" value="32" class="bg-gray-800 text-white px-1 py-1 rounded text-xs border border-gray-700">
                 <input type="number" id="heightInput" value="32" class="bg-gray-800 text-white px-1 py-1 rounded text-xs border border-gray-700">
            </div>
            <button id="resizeBtn" class="bg-gray-800 hover:bg-gray-700 text-gray-300 py-1 rounded text-xs">New Canvas</button>
            <button id="downloadSheetBtn" class="bg-blue-600 hover:bg-blue-700 text-white py-1.5 rounded text-xs font-bold mt-1">
                <i class="fas fa-download mr-1"></i> Export Sheet
            </button>
        </div>
    </aside>

    <!-- Main Workspace -->
    <main class="flex-1 flex flex-col h-full bg-gray-950 relative">
        <div id="canvas-wrapper" class="flex items-center justify-center">
            <div id="drawing-area">
                <!-- Composition Layer (Visual Only) -->
                <canvas id="layer-composition"></canvas>
                <!-- Preview Layer (Interactions) -->
                <canvas id="previewLayer"></canvas>
                <!-- Grid -->
                <div id="grid-overlay"></div>
            </div>
        </div>
        
        <!-- Timeline -->
        <div id="timeline-container" class="flex items-center px-4 gap-4 overflow-x-auto relative">
            <div class="flex flex-col gap-1 sticky left-0 z-10 bg-gray-800/90 p-1 rounded backdrop-blur border border-gray-700">
                <button id="addFrameBtn" class="bg-blue-600 w-6 h-6 rounded text-xs flex items-center justify-center hover:bg-blue-500 text-white"><i class="fas fa-plus"></i></button>
                <button id="duplicateFrameBtn" class="bg-gray-600 w-6 h-6 rounded text-xs flex items-center justify-center hover:bg-gray-500 text-white"><i class="fas fa-copy"></i></button>
                 <button id="deleteFrameBtn" class="bg-red-900/50 w-6 h-6 rounded text-xs flex items-center justify-center hover:bg-red-800 text-red-300"><i class="fas fa-trash"></i></button>
            </div>
            <div id="frames-list" class="flex gap-2 h-full items-center p-2"></div>
        </div>

        <div class="absolute bottom-[140px] right-4 bg-gray-900/80 backdrop-blur text-gray-400 px-2 py-1 rounded text-[10px] font-mono border border-gray-800 pointer-events-none">
            <span id="coords">0, 0</span> | <span id="zoomDisplay">100%</span>
        </div>
    </main>

    <script>
       
    </script>
</body>
</html>
